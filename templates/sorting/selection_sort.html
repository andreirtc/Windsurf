{% extends "sorting/base_sorting.html" %}

{% block breadcrumb_name %}Selection Sort{% endblock %}
{% block algorithm_name %}Selection Sort{% endblock %}
{% block algorithm_id %}selection{% endblock %}

{% block algorithm_description %}
<p>Selection Sort is a simple comparison-based sorting algorithm that works by repeatedly finding the minimum element from the unsorted portion of the array and placing it at the beginning.</p>

<h4>Algorithm Steps:</h4>
<ol>
    <li>Find the minimum element in the unsorted array</li>
    <li>Swap it with the first element of the unsorted portion</li>
    <li>Move the boundary between sorted and unsorted portions one element to the right</li>
    <li>Repeat until the entire array is sorted</li>
</ol>

<h4>Key Features:</h4>
<ul>
    <li>Simple implementation</li>
    <li>Performs well on small arrays</li>
    <li>Minimizes the number of swaps compared to bubble sort</li>
    <li>Not stable by default (equal elements may change relative order)</li>
    <li>In-place algorithm (requires no extra space)</li>
</ul>
{% endblock %}

{% block complexity %}
    <td>Ω(n²)</td>
    <td>θ(n²)</td>
    <td>O(n²)</td>
    <td>O(1)</td>
{% endblock %}

{% block algorithm_specific_js %}
<script>
    // Override the default colors for Selection Sort
    const customColors = {
        default: '#8b5cf6',    // Violet for unsorted
        comparing: '#22c55e',  // Green for current comparing element
        currentMin: '#ef4444', // Red for current minimum
        sorted: '#ec4899'      // Pink for sorted
    };
    
    // Set custom colors when page loads
    document.addEventListener('DOMContentLoaded', function() {
        setCustomColors(customColors);
    });
</script>
{% endblock %}

{% block extra_styles %}
<style>
    /* Custom colors for Selection Sort animation bars */
    #array .array-bar {
        background-color: #8b5cf6; /* violet for unsorted bars */
        transition: background-color 0.3s ease;
    }

    #array .array-bar.sorted {
        background-color: #ec4899; /* pink for sorted bars */
    }

    #array .array-bar.current-min {
        background-color: #ef4444; /* red for current minimum */
    }

    #array .array-bar.comparing {
        background-color: #22c55e; /* green for comparing/moving bar */
    }

    /* Legend for the colors */
    .color-legend {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        margin: 1rem 0;
        padding: 1rem;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 8px;
    }

    .color-legend-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .color-box {
        width: 20px;
        height: 20px;
        border-radius: 4px;
    }

    .color-box.unsorted { background-color: #8b5cf6; }
    .color-box.sorted { background-color: #ec4899; }
    .color-box.current-min { background-color: #ef4444; }
    .color-box.comparing { background-color: #22c55e; }
</style>
{% endblock %}

{% block extra_content %}
<div class="color-legend">
    <div class="color-legend-item">
        <div class="color-box unsorted"></div>
        <span>Unsorted</span>
    </div>
    <div class="color-legend-item">
        <div class="color-box sorted"></div>
        <span>Sorted</span>
    </div>
    <div class="color-legend-item">
        <div class="color-box current-min"></div>
        <span>Current Minimum</span>
    </div>
    <div class="color-legend-item">
        <div class="color-box comparing"></div>
        <span>Comparing</span>
    </div>
</div>
{% endblock %}

{% block how_it_works %}
<div class="how-it-works">
    <h3>How Selection Sort Works</h3>
    <p>Selection Sort is a simple sorting algorithm that works by repeatedly finding the minimum element from the unsorted portion of the array and placing it at the beginning.</p>
    
    <div class="steps">
        <h4>Algorithm Steps:</h4>
        <ol>
            <li>Find the minimum element in the unsorted array</li>
            <li>Swap it with the first element of the unsorted portion</li>
            <li>Move the boundary between sorted and unsorted portions one element to the right</li>
            <li>Repeat until the entire array is sorted</li>
        </ol>
    </div>

    <div class="pseudocode">
        <h4>Pseudocode:</h4>
        <pre><code>method selectionSort(array A[], integer N)
    for each L in [0..N-2]               // O(N)
        let X be the index of minimum element 
        in A[L..N-1]                     // O(N)
        swap(A[X], A[L])                 // O(1)
Total: O(N²)</code></pre>
    </div>

    <div class="time-complexity">
        <h4>Time & Space Complexity</h4>
        <table class="complexity-table">
            <thead>
                <tr>
                    <th>Complexity Type</th>
                    <th>Best Case</th>
                    <th>Average Case</th>
                    <th>Worst Case</th>
                    <th>Space</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Time Complexity</td>
                    <td>Ω(n²)</td>
                    <td>θ(n²)</td>
                    <td>O(n²)</td>
                    <td>O(1)</td>
                </tr>
            </tbody>
        </table>
        <div class="complexity-notes">
            <p><strong>Notes:</strong></p>
            <ul>
                <li>Best Case: Array is already sorted</li>
                <li>Worst Case: Array is reverse sorted</li>
                <li>Space Complexity is O(1) as it only uses a constant amount of extra space</li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}
